---
title: "STA 322 Project 2"
author: "Alayna Binder & Katherine Zhong"
date: "2025-12-05"
output: 
  bookdown::pdf_document2:
    number_sections: true
    toc: false
header-includes:
  - \usepackage{float}
---

# Experimental Design

We conducted a full $2^4$ factorial experiment that included all sixteen combinations of the four helicopter design factors A (rotor length), B (leg lenth), C (leg width), and D (paper clip on leg). A full factorial structure was appropriate because our goal was to estimate the main effects of each design feature and evaluate whether any interactions influenced flight time. We collected six replicate drops for each design to obtain precise estimates of the factor effects while keeping the data collection workload manageable.

To reduce the possibility of ordering effects, we randomized the sequence of the sixteen design combinations before beginning data collection. After establishing this order, we also randomized which thrower completed each drop. Both throwers aimed to release the helicopters in a consistent manner, and random assignment ensures that any natural differences in release technique were distributed evenly across all treatments.

We treated thrower as a blocking variable. Although using a single thrower would theoretically eliminate person-to-person variation, it would also require one individual to perform all 96 drops. That workload increases the likelihood of fatigue or gradual shifts in release technique, which can introduce time-related variability that is difficult to control. We judged this within-person drift to be a greater risk than the small, consistent differences that might exist between two people. Because both project members were involved in data collection, blocking was the appropriate design choice. By structuring the experiment so that each thrower completed drops for every design combination, we created a fully crossed block that allowed us to account for person-specific differences directly and improve the precision of the estimated factor effects.

All drops were completed within a single session. While some within-session variation is possible, the number of drops per person was modest after splitting the workload, and the randomized allocation of treatments ensures that any minor temporal changes did not align with specific factor levels. We did not observe systematic shifts in flight time over the course of the session, so we treated within-session variation as negligible.

```{r echo = FALSE, message = FALSE, warning = FALSE}
#| label: load-packages

library(tidyverse)
library(broom)
library(knitr)
library(kableExtra)
```

```{r echo = FALSE, message = FALSE, warning = FALSE}
#| label: load-data

data <- read_csv("STA322-project2-helicopter - Sheet1.csv")
```

```{r echo = FALSE, message = FALSE, warning = FALSE}
#| label: data-wrangling

df <- data |>
  mutate(
    # treat aâ€“d as 0/1 indicators for the four design factors
    across(a:d, as.integer),
    
    # factors for people
    thrower = factor(thrower),
    maker = factor(maker),
    
    # combination as a factor, ordered by how it appears
    combination = factor(combination, levels = unique(combination))
  )

# summary(df$time)
```

# Analysis

## Question 1

To identify which design factors influence flight time, we first examined the distributions of flight times across the two levels of each factor. The main effect boxplots below show a clear upward shift for factor A, with level 1 producing noticeably longer flights than level 0. Factor D shows the opposite pattern, with shorter flights at level 1. In contrast, factors B and C display only small differences between levels, and the variation within each level is larger than any apparent shift between them.

```{r echo = FALSE, message = FALSE, warning = FALSE, fig.width = 7, fig.height = 3}
#| label: main-effects

main_effect_summaries <- df |>
  pivot_longer(a:d, names_to = "factor", values_to = "level") |>
  group_by(factor, level) |>
  summarise(
    mean_time = mean(time),
    sd_time = sd(time),
    n = n(),
    .groups = "drop"
  )

# main_effect_summaries

df |>
  pivot_longer(a:d, names_to = "factor", values_to = "level") |>
  mutate(level = factor(level)) |>
  ggplot(aes(x = level, y = time)) +
  geom_boxplot() +
  facet_wrap(~ factor, nrow = 1) +
  labs(
    title = "Main Effect Plots for Factors A-D",
    x = "Level",
    y = "Flight time (seconds)"
  )
```

We then formalized these patterns using a linear model that included all four design factors while blocking on thrower. The estimated effects and confidence intervals are shown in Table 1 below. Factor A had a positive and statistically significant effect, increasing the mean flight time by about 0.22 seconds. Factor D had a negative and significant effect, decreasing the mean flight time by about 0.14 seconds. The confidence intervals for both effects were entirely away from zero. Factors B and C had small estimated effects with confidence intervals that included zero, indicating little evidence that they meaningfully affect flight time.

```{r echo = FALSE, message = FALSE, warning = FALSE}
#| label: Q1

fit_q1 <- lm(time ~ a + b + c + d + thrower, data = df)

# summary(fit_q1)

q1_table <- tidy(fit_q1, conf.int = TRUE) |>
  select(term, estimate, conf.low, conf.high, std.error, statistic, p.value)

q1_table |>
  kable(digits = 3, caption = "Main Effects Model Results") |>
  kable_classic(full_width = FALSE) |>
  kableExtra::kable_styling(latex_options = "HOLD_position")
```

Both the exploratory plots and the fitted model point to the same conclusion. Factors A and D are the most influential design components. Factor A corresponds to rotor length, and the model indicates that longer rotors tend to increase flight time. Factor D corresponds to whether a paper clip is attached, and the negative effect estimate suggests that adding a paper clip shortens the flight. In contrast, the variables associated with leg length (factor B) and leg width (factor C) show minimal impact on flight duration under this experimental setup.

## Question 2




## Question 3



